<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>File Manager</title>
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=2"
        />

        <!-- Section CSS -->
        <!-- jQuery UI (REQUIRED) -->
        <link
            rel="stylesheet"
            type="text/css"
            href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
        />

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

        <!-- elFinder CSS (REQUIRED) -->
        <link
            rel="stylesheet"
            type="text/css"
            href="//cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/css/elfinder.min.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="//cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/css/theme.css"
        />

        <!-- elFinder JS (REQUIRED) -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/js/elfinder.min.js"></script>

        <!-- Extra contents editors (OPTIONAL) -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/js/extras/editors.default.js"></script>

        <!-- GoogleDocs Quicklook plugin for GoogleDrive Volume (OPTIONAL) -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/js/extras/quicklook.googledocs.js"></script>

        <!-- elFinder initialization (REQUIRED) -->
        <script type="module">
            import { filePickerCallback } from '../src/helpers.ts';

            // Documentation for client options:
            // https://github.com/Studio-42/elFinder/wiki/Client-configuration-options
            $(document).ready(function () {
                $("#elfinder").elfinder(
                    // 1st Arg - options
                    {
                        height: "100%",
                        cssAutoLoad: false, // Disable CSS auto loading
                        baseUrl:
                            "https://cdnjs.cloudflare.com/ajax/libs/elfinder/2.1.28/", // Base URL to css/*, js/*
                        url: "https://hypweb.net/elFinder-nightly/demo/2.1/php/connector.minimal.php", // Static JSON connector

                        getFileCallback: filePickerCallback,

                        ui: ["toolbar", "path", "stat", "tree"],
                        uiOptions: {
                            // toolbar configuration
                            toolbar: [
                                ["up"],
                                ["undo", "redo"],
                                ["mkdir", "upload"],
                                ["copy", "cut", "paste", "edit", "resize"],
                                ["info", "sort", "fullscreen"],
                                ["search"]
                            ],
                            tree: {
                                openRootOnLoad: true,
                                syncTree: true
                            },
                            toolbarExtra: {
                                autoHideUA: []
                            }
                        },
                        path: {
                            // Move to head of work zone without UI navbar
                            toWorkzoneWithoutNavbar: false
                        }
                    }
                );
            });
        </script>
        <style>
            html {
                height: 100%;
            }

            body {
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #elfinder {
                border-radius: 0;
                border: 0;
            }

            #elfinder .elfinder-cwd-wrapper {
                border: 1px solid #f6f6f6;
            }

            #elfinder .elfinder-path-dir {
                font-weight: unset;
            }

            #elfinder .elfinder-button {
                background: transparent;
            }

            #elfinder .elfinder-button-search input {
                border-radius: 0;
                border: 0;
            }

            .elfinder-toolbar-button-separator {
                display: none;
            }

            .elfinder .ui-widget-header,
            .elfinder .elfinder-buttonset {
                border: 0;
                border-radius: 0;
            }


            .elfinder-path {
                background: #f5f5f5;
            }
        </style>
    </head>

    <body>
        <!-- Element where elFinder will be created (REQUIRED) -->
        <div id="elfinder"></div>
    </body>
</html>
